{"ast":null,"code":"var _jsxFileName = \"/home/fsharma/Java_Progs/Projects/Multiplex_Seat_Booking_System/teatre/frontend/src/components/BookingCancellation.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport './BookingCancellation.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingCancellation = props => {\n  _s();\n  const [bookingId, setBookingId] = useState(props.bookingId);\n  const [contactInfo, setContactInfo] = useState(\"\");\n  const [confirmation, setConfirmation] = useState(false);\n  const [cancellationConfirmed, setCancellationConfirmed] = useState(false);\n  const [refundAmount, setRefundAmount] = useState(0);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const handleCancellation = () => {\n    if (!bookingId || !contactInfo) {\n      setErrorMessage(\"Please enter booking ID and contact information.\");\n      return;\n    }\n    time();\n    checkBookingAndCancel();\n  };\n  const checkBookingAndCancel = () => {\n    setTimeout(() => {\n      if (confirmation) {\n        const cancellationCharges = 0.2;\n        const totalFare = 100;\n        const refund = totalFare * (1 - cancellationCharges);\n        const netRefund = refund;\n        cancelBooking();\n        setRefundAmount(netRefund);\n        setCancellationConfirmed(true);\n      }\n    }, 100);\n  };\n  const resetField = () => {\n    setConfirmation(false);\n    setBookingId(\"\");\n    setContactInfo(\"\");\n  };\n  const cancelBooking = () => {\n    console.log(`Booking ${bookingId} cancelled.`);\n    sendCancellationMessage();\n  };\n  const sendCancellationMessage = () => {\n    console.log(`Message sent to ${contactInfo}: Your booking ${bookingId} has been cancelled.`);\n  };\n  const time = () => {\n    const showTime = new Date(2024, 2, 24, 18, 0, 0).getTime();\n    const currentTime = new Date().getTime();\n    const timeDifference = currentTime - showTime;\n    console.log(timeDifference);\n\n    // Calculate time difference in hours\n    const hoursDifference = timeDifference / (1000 * 60 * 60);\n    console.log(hoursDifference);\n    console.log(\"Confirmation:\", confirmation);\n    console.log(\"Time Difference:\", hoursDifference);\n    if (hoursDifference > 48) {\n      setConfirmation(true);\n    } else {\n      alert(\"Cancellation is not allowed within 48 hours of the show time.\");\n      setConfirmation(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"heading\",\n      children: \"Booking Cancellation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 24\n    }, this), !cancellationConfirmed ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: [\"Booking ID:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: bookingId\n          //onChange={(e) => setBookingId(e.target.value)}\n          ,\n          className: \"input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: [\"Contact Information (Mobile number or Email):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: contactInfo,\n          onChange: e => setContactInfo(e.target.value),\n          className: \"input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), confirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to cancel this booking?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: handleCancellation,\n          children: \"Yes, Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: resetField,\n          children: \"No, Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), !confirmation && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: handleCancellation,\n        children: \"Cancel Booking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cancellation-confirmed\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Booking has been successfully cancelled.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Refund Amount: $\", refundAmount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingCancellation, \"T15XQ/MbPOHH6A3Fqek7OotR3iI=\");\n_c = BookingCancellation;\nexport default BookingCancellation;\nvar _c;\n$RefreshReg$(_c, \"BookingCancellation\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","BookingCancellation","props","_s","bookingId","setBookingId","contactInfo","setContactInfo","confirmation","setConfirmation","cancellationConfirmed","setCancellationConfirmed","refundAmount","setRefundAmount","errorMessage","setErrorMessage","handleCancellation","time","checkBookingAndCancel","setTimeout","cancellationCharges","totalFare","refund","netRefund","cancelBooking","resetField","console","log","sendCancellationMessage","showTime","Date","getTime","currentTime","timeDifference","hoursDifference","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/home/fsharma/Java_Progs/Projects/Multiplex_Seat_Booking_System/teatre/frontend/src/components/BookingCancellation.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport './BookingCancellation.css';\n \nconst BookingCancellation = (props) => {\n  const [bookingId, setBookingId] = useState(props.bookingId);\n  const [contactInfo, setContactInfo] = useState(\"\");\n  const [confirmation, setConfirmation] = useState(false);\n  const [cancellationConfirmed, setCancellationConfirmed] = useState(false);\n  const [refundAmount, setRefundAmount] = useState(0);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n \n  const handleCancellation = () => {\n    if (!bookingId || !contactInfo) {\n      setErrorMessage(\"Please enter booking ID and contact information.\");\n      return;\n    }\n    time();\n    checkBookingAndCancel();\n    \n  };\n \n  const checkBookingAndCancel = () => {\n    setTimeout(() => {\n      if (confirmation) {\n        const cancellationCharges = 0.2;\n        const totalFare = 100;\n        const refund = totalFare * (1 - cancellationCharges);\n        const netRefund = refund;\n        cancelBooking();\n        setRefundAmount(netRefund);\n        setCancellationConfirmed(true);\n      }\n    }, 100);\n  };\n \n  const resetField = () =>{\n    setConfirmation (false);\n    setBookingId (\"\");\n    setContactInfo (\"\");\n \n  }\n \n  const cancelBooking = () => {\n    console.log(`Booking ${bookingId} cancelled.`);\n    sendCancellationMessage();\n  };\n \n  const sendCancellationMessage = () => {\n    console.log(\n      `Message sent to ${contactInfo}: Your booking ${bookingId} has been cancelled.`\n    );\n  };\n \n  const time = () => {\n    const showTime = new Date(2024, 2,24, 18, 0, 0).getTime();\n    const currentTime = new Date().getTime();\n    const timeDifference = currentTime - showTime;\n    console.log(timeDifference);\n  \n    // Calculate time difference in hours\n    const hoursDifference = timeDifference / (1000 * 60 * 60);\n    console.log(hoursDifference);\n  \n    console.log(\"Confirmation:\", confirmation);\n    console.log(\"Time Difference:\", hoursDifference);\n  \n    if (hoursDifference > 48) {\n      setConfirmation(true);\n    } else {\n      alert(\"Cancellation is not allowed within 48 hours of the show time.\");\n      setConfirmation(false);\n    }\n  };\n \n  return (\n    <div className=\"container\">\n      <h2 className=\"heading\">Booking Cancellation</h2>\n      {errorMessage && <div className=\"error-message\">{errorMessage}</div>}\n      {!cancellationConfirmed ? (\n        <div>\n          <label className=\"label\">\n            Booking ID:\n            <input\n              type=\"text\"\n              value={bookingId}\n              //onChange={(e) => setBookingId(e.target.value)}\n              className=\"input\"\n            />\n          </label>\n          <label className=\"label\">\n            Contact Information (Mobile number or Email):\n            <input\n              type=\"text\"\n              value={contactInfo}\n              onChange={(e) => setContactInfo(e.target.value)}\n              className=\"input\"\n            />\n          </label>\n          {confirmation && (\n            <div className=\"confirmation\">\n              <p>Are you sure you want to cancel this booking?</p>\n              <button className=\"btn\" onClick={handleCancellation}>\n                Yes, Cancel\n              </button>\n              <button className=\"btn\" onClick={resetField}>\n                No, Go Back\n              </button>\n            </div>\n          )}\n          {!confirmation && (\n            <button className=\"btn\" onClick={handleCancellation}>\n              Cancel Booking\n            </button>\n          )}\n        </div>\n      ) : (\n        <div className=\"cancellation-confirmed\">\n          <p>Booking has been successfully cancelled.</p>\n          <p>Refund Amount: ${refundAmount}</p>\n          {/* Display any additional information here */}\n        </div>\n      )}\n    </div>\n  );\n};\n \nexport default BookingCancellation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}